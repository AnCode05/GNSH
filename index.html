<!doctype html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>G·ª≠i Ng∆∞·ªùi Th∆∞∆°ng</title>
    <style>
      :root {
        --primary-pink: #ff758f;
        --bg-color: #fff0f3;
      }

      body,
      html {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
        background: var(--bg-color);
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      /* L·ªõp ph·ªß m·ªü ƒë·∫ßu */
      #overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: var(--bg-color);
        z-index: 200;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        cursor: pointer;
      }

      .heart-btn {
        font-size: 100px;
        animation: beat 1.2s infinite;
      }

      @keyframes beat {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.2);
        }
      }

      /* Ghi ch√∫ */
      .note {
        position: absolute;
        width: 170px;
        min-height: 90px;
        padding: 15px;
        border-radius: 15px;
        backdrop-filter: blur(5px);
        border: 1px solid rgba(255, 255, 255, 0.3);
        box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
        font-size: 15px;
        font-weight: 500;
        color: #444;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        opacity: 0;
        transform: scale(0.5);
        transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        z-index: 10;
      }

      .note.show {
        opacity: 1;
        transform: scale(1) rotate(var(--r));
      }

      /* Card chung cho T·ªè t√¨nh & C·∫£m ∆°n */
      .card {
        display: none;
        position: relative;
        background: rgba(255, 255, 255, 0.95);
        padding: 30px;
        border-radius: 30px;
        text-align: center;
        box-shadow: 0 20px 50px rgba(255, 77, 109, 0.2);
        z-index: 1000;
        width: 80%;
        max-width: 300px;
        animation: zoomIn 0.6s ease;
      }

      .memorable-img {
        width: 100%;
        height: 200px;
        object-fit: cover;
        border-radius: 15px;
        margin-bottom: 15px;
        border: 3px solid #ffccd5;
      }

      .btn-group {
        margin-top: 20px;
        display: flex;
        flex-direction: column;
        gap: 10px;
      }

      button {
        padding: 15px;
        border: none;
        border-radius: 50px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: 0.2s;
      }
      button:active {
        transform: scale(0.95);
      }

      .btn-yes {
        background: #ff4d6d;
        color: white;
      }
      .btn-no {
        background: #ffccd5;
        color: #ff4d6d;
      }

      @keyframes zoomIn {
        from {
          opacity: 0;
          transform: scale(0.5);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }
    </style>
  </head>
  <body>
    <div id="overlay" onclick="startSurprise()">
      <div class="heart-btn">üíñ</div>
      <p style="color: #ff4d6d; font-weight: bold; margin-top: 20px">
        B·∫•m v√†o ƒë√¢y ƒë·ªÉ nh·∫≠n b·∫•t ng·ªù :33
      </p>
    </div>

    <div id="notes-container"></div>

    <div id="proposal-card" class="card">
      <h2 style="color: #ff4d6d; margin-bottom: 10px">
        Bo ∆°iii. Bo l√†m ng∆∞·ªùi y√™u t·ªõ nh√°‚ù§Ô∏è
      </h2>
      <p>
        Th·∫ø gi·ªõi n√†y th·∫≠t r·ªông l·ªõn, nh∆∞ng t·ªõ ch·ªâ mu·ªën ƒë∆∞·ª£c ·ªü b√™n c·∫°nh m·ªói m√¨nh
        c·∫≠u th√¥i.
      </p>
      <div class="btn-group">
        <button class="btn-yes" onclick="showSuccess()">ƒê·ªìng √Ω lu√¥n!</button>
        <button class="btn-no" onclick="showSuccess()">
          Kh√¥ng th·ªÉ kh√¥ng ƒë·ªìng √Ω
        </button>
      </div>
    </div>

    <div id="success-card" class="card">
      <img src="/t·∫£i xu·ªëng.png" alt="Couple" class="memorable-img" />
      <h2 style="color: #ff4d6d">C·∫£m ∆°n c·∫≠u! ‚ù§Ô∏è</h2>
      <p>
        T·ªõ h·ª©a s·∫Ω tr√¢n tr·ªçng v√† l√†m c·∫≠u h·∫°nh ph√∫c m·ªói ng√†y. Y√™u c·∫≠u r·∫•t nhi·ªÅu!
      </p>
      <p style="font-size: 12px; color: #aaa; margin-top: 10px">
        Happy Ending ‚ú®
      </p>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <script>
      const messages = [
        "Ch√†o SI√äU B·∫†N TH√ÇN c·ªßa t·ªõ!",
        "H√¥m nay nh√¢n d·ªãp ng√†y 14/2 t·ªõ c√≥ ƒë√¥i ch√∫t ƒëi·ªÅu mu·ªën n√≥i v·ªõi Tr√¢m...",
        "H√¥m nay Valentine t·ªõ c≈©ng mu·ªën ƒëi ch∆°i v·ªõi Tr√¢m l·∫Øm ƒë√≥!",
        "Nh∆∞ng m√† v√¨ gia ƒë√¨nh b·∫≠n r·ªôn qu√° Tr√¢m v·ªõi t·ªõ kh√¥ng s·∫Øp x·∫øp ƒë∆∞·ª£c th·ªùi gian ƒëi ch∆°i c√πng nhau.",
        "Tuy c√≥ h∆°n ch√∫t bu·ªìn v√¨ kh√¥ng th·ªÉ g·∫∑p Tr√¢m trong ng√†y ƒë·∫∑c bi·ªát n√†y  :<",
        "N√™n t·ªõ ƒë√£ chu·∫©n b·ªã m·ªôt b·∫•t ng·ªù nho nh·ªè n√†y ƒë·ªÉ g·ª≠i ƒë·∫øn Tr√¢m ƒë√¢y ><",
        "Hmm th√¨ th√¨ ...",
        "T·ªõ kh√¥ng c√≥ qu√† cho Tr√¢m nh∆∞ng t·ªõ c√≥ r·∫•t nhi·ªÅu l·ªùi mu·ªën n√≥i v·ªõi Tr√¢m :33",
        "Valentine n√†y t·ªõ ch√∫c Tr√¢m vui v·∫ª ‚ù§Ô∏è",
        "Ch√∫c ng∆∞·ªùi ƒë·∫πp lu√¥n xinh t∆∞∆°i r·∫°ng r·ª° nh√© üòä",
        "Ch√∫c ng∆∞·ªùi ƒë·∫πp lu√¥n th√†nh c√¥ng trong cu·ªôc s·ªëng v√† h·ªçc t·∫≠p ‚ù§Ô∏è",
        "Ch√∫c Tr√¢m lu√¥n h·∫°nh ph√∫c v√† c√≥ nhi·ªÅu ni·ªÅm vui trong cu·ªôc s·ªëng n√†y :33",
        "T·ªõ c√≤n ƒëi·ªÅu n√†y mu·ªën n√≥i v·ªõi Tr√¢m n·ªØa",
        "C·∫£m ∆°n Tr√¢m ƒë√£ lu√¥n l√† ng∆∞·ªùi an ·ªßi, l·∫Øng nghe v√† ƒë·ªìng h√†nh c√πng t·ªõ su·ªët th·ªùi gian qua.",
        "Th√¥ng qua nhi·ªÅu cu·ªôc tr√≤ chuy·ªán, g·∫∑p g·ª° t·ªõ th·∫•y t·ªõ kh√¥ng th·ªÉ thi·∫øu Tr√¢m trong cu·ªôc s·ªëng n√†y :33",
        "Tr√¢m l√† ng∆∞·ªùi ƒë·∫∑c bi·ªát nh·∫•t ƒë·ªëi v·ªõi t·ªõ, v√† t·ªõ mu·ªën ƒë∆∞·ª£c ·ªü b√™n c·∫°nh Tr√¢m m√£i m√£i.",
        "V·∫≠y n√™n t·ªõ mu·ªën h·ªèi Tr√¢m l√† Tr√¢m c√≥ th·ªÉ cho t·ªõ c∆° h·ªôi ƒë∆∞·ª£c l√†m ng∆∞·ªùi y√™u Tr√¢m kh√¥ng? ‚ù§Ô∏è",
        "T·ªõ bi·∫øt l√† Tr√¢m kh√¥ng mu·ªën c√¥ng khai c≈©ng nh∆∞ t·ªõ kh√¥ng mu·ªën √©p bu·ªôc Tr√¢m ƒëi·ªÅu g√¨ c·∫£ :33",
        "V√¨ v·∫≠y n√™n t·ªõ ch·ªâ mu·ªën n√≥i v·ªõi Tr√¢m r·∫±ng t·ªõ s·∫Ω lu√¥n ·ªü ƒë√¢y, lu√¥n ch·ªù ƒë·ª£i v√† s·∫µn s√†ng tr√≤ chuy·ªán v·ªõi Tr√¢m b·∫•t c·ª© l√∫c n√†o khi Tr√¢m vui, Tr√¢m bu·ªìn th√¨ Tr√¢m c√≥ th·ªÉ t√¨m ƒë·∫øn t·ªõ nh√© :33",
        "T·ªõ lu√¥n l·∫Øng nghe Tr√¢m nh·ªØng c√¢u chuy·ªán c·ªßa Tr√¢m, nh·ªØng c·∫£m x√∫c c·ªßa Tr√¢m, v√† t·ªõ s·∫Ω lu√¥n c·ªë g·∫Øng ƒë·ªÉ hi·ªÉu Tr√¢m h∆°n n·ªØa :33",
        "T·ªõ ch·ªâ mu·ªën n√≥i r·∫±ng t·ªõ y√™u Tr√¢m r·∫•t nh√¨uuu ^^",
        "T·ªõ s·∫Ω kh√¥ng qu·∫£n l√Ω Tr√¢m, kh√¥ng ghen tu√¥ng, kh√¥ng ki·ªÉm so√°t Tr√¢m, t·ªõ ch·ªâ mu·ªën ƒë∆∞·ª£c l√† ng∆∞·ªùi b·∫°n ƒë·ªìng h√†nh, ng∆∞·ªùi y√™u th∆∞∆°ng v√† ng∆∞·ªùi hi·ªÉu Tr√¢m nh·∫•t m√† th√¥i :33",
        "V√† t·ªõ c≈©ng c·∫ßn 1 ng∆∞·ªùi y√™u th∆∞∆°ng t·ªõ, hi·ªÉu t·ªõ, v√† ·ªü b√™n c·∫°nh t·ªõ l√∫c bu·ªìn, l√∫c vui c≈©ng nh∆∞ qu·∫£n l√≠ t·ªõ h∆°n n·ªØa t·∫°i v√¨ t·ªõ h∆∞ qu√° r√πii :33",
        "T·ªõ hy v·ªçng Tr√¢m s·∫Ω cho t·ªõ c∆° h·ªôi ƒë∆∞·ª£c l√†m ng∆∞·ªùi y√™u Tr√¢m, ƒë∆∞·ª£c ·ªü b√™n c·∫°nh Tr√¢m, ƒë∆∞·ª£c chƒÉm s√≥c Tr√¢m v√† l√†m Tr√¢m h·∫°nh ph√∫c m·ªói ng√†y :33",
        "T·ªõ s·∫Ω lu√¥n tr√¢n tr·ªçng v√† y√™u th∆∞∆°ng Tr√¢m th·∫≠t nhi·ªÅu n·∫øu Tr√¢m ƒë·ªìng √Ω nh√© :33",
        "Nh∆∞ng t·ªõ v·∫´n t√¥n tr·ªçng quy·∫øt ƒë·ªãnh c·ªßa Tr√¢m d√π c√≥ l√† g√¨ ƒëi n·ªØa, t·ªõ ch·ªâ mong Tr√¢m s·∫Ω lu√¥n h·∫°nh ph√∫c v√† vui v·∫ª trong cu·ªôc s·ªëng n√†y :33",
      ];

      function startSurprise() {
        document.getElementById("overlay").style.display = "none";
        showNotes();
      }

      function showNotes() {
        const container = document.getElementById("notes-container");
        let index = 0;

        function displayNextNote() {
          if (index < messages.length) {
            const currentMsg = messages[index];
            const note = document.createElement("div");
            note.className = "note";
            note.innerText = currentMsg;

            const rotation = (Math.random() - 0.5) * 40;
            const posX = Math.random() * (window.innerWidth - 200) + 10;
            const posY = Math.random() * (window.innerHeight - 150) + 20;

            note.style.backgroundColor = [
              "#ffccdc",
              "#d0f4de",
              "#a2d2ff",
              "#fdffb6",
              "#ffc6ff",
            ][index % 5];
            note.style.left = `${posX}px`;
            note.style.top = `${posY}px`;
            note.style.setProperty("--r", `${rotation}deg`);

            container.appendChild(note);
            setTimeout(() => note.classList.add("show"), 100);

            // Logic th·ªùi gian: > 100 k√≠ t·ª± l√† 7s (7000ms), ng∆∞·ª£c l·∫°i l√† 5s (5000ms)
            let delay = currentMsg.length > 100 ? 7000 : 5000;

            index++;
            setTimeout(displayNextNote, delay);
          } else {
            setTimeout(() => {
              document.getElementById("proposal-card").style.display = "block";
            }, 2000);
          }
        }
        displayNextNote();
      }

      function showSuccess() {
        document.getElementById("proposal-card").style.display = "none";
        document
          .querySelectorAll(".note")
          .forEach((n) => (n.style.opacity = "0.1"));
        document.getElementById("success-card").style.display = "block";

        const end = Date.now() + 10 * 1000;
        (function frame() {
          confetti({
            particleCount: 3,
            angle: 60,
            spread: 55,
            origin: { x: 0, y: 0.8 },
            colors: ["#ff4d6d", "#ff758f"],
          });
          confetti({
            particleCount: 3,
            angle: 120,
            spread: 55,
            origin: { x: 1, y: 0.8 },
            colors: ["#ff4d6d", "#ff758f"],
          });
          confetti({
            particleCount: 2,
            spread: 100,
            origin: { y: 0 },
            shapes: ["heart"],
            colors: ["#ff0000", "#ff85a1"],
          });
          if (Date.now() < end) requestAnimationFrame(frame);
        })();
      }
    </script>
  </body>
</html>
